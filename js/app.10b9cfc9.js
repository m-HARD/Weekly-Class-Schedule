(function(t){function e(e){for(var s,r,l=e[0],o=e[1],c=e[2],d=0,f=[];d<l.length;d++)r=l[d],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&f.push(n[r][0]),n[r]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);u&&u(e);while(f.length)f.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,l=1;l<a.length;l++){var o=a[l];0!==n[o]&&(s=!1)}s&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},n={app:0},i=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=o;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e),a.d(e,"eventBus",(function(){return jt}));a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"min-width":"-webkit-fill-available",width:"max-content"},attrs:{name:"App"}},[a("div",{staticClass:"bg-gray-200 min-h-screen pt-10",attrs:{dir:"rtl"}},[a("nav",{staticClass:"w-full py-2 flex justify-center bg-gray-600"},[a("span",{staticClass:"mx-3 px-5 py-2 text-xl cursor-pointer bg-gray-400 rounded",on:{click:function(e){t.currentView="test"}}},[t._v("test")]),a("span",{staticClass:"mx-3 px-5 py-2 text-xl cursor-pointer bg-gray-400 rounded",on:{click:function(e){t.currentView="app-main-ui"}}},[t._v("Main")]),a("span",{staticClass:"mx-3 px-5 py-2 text-xl cursor-pointer bg-gray-400 rounded",on:{click:function(e){t.currentView="add-main-data"}}},[t._v("Add Main Data")]),a("span",{staticClass:"mx-3 px-5 py-2 text-xl cursor-pointer bg-gray-400 rounded",on:{click:function(e){t.currentView="app-user-config-ui"}}},[t._v("User ConfigUI")]),a("span",{staticClass:"mx-3 px-5 py-2 text-xl cursor-pointer bg-gray-400 rounded",on:{click:function(e){t.currentView="fixed-subjects"}}},[t._v("Fixed Subjects")]),a("span",{staticClass:"mx-3 px-5 py-2 text-xl cursor-pointer bg-gray-400 rounded",on:{click:function(e){t.currentView="teacher-exemptions"}}},[t._v("Teacher Exemptions")]),a("span",{staticClass:"mx-3 px-5 py-2 text-xl cursor-pointer bg-gray-400 rounded",on:{click:function(e){t.currentView="initial-table"}}},[t._v("Initial Table")]),a("span",{staticClass:"mx-3 px-5 py-2 text-xl cursor-pointer bg-gray-400 rounded",on:{click:function(e){t.currentView="app-view-some-data"}}},[t._v("some data")])]),a("pagenation",{attrs:{currentPage:t.currentView}}),a("keep-alive",[a(t.currentView,{tag:"component",attrs:{data:{subInClasses:t.subInClasses,userConfig:t.userConfig,userConfigBeforeChange:t.userConfigBeforeChange,teacherExemptions:t.teacherExemptions,mainData:t.mainData,possibilityLevel:t.possibilityLevel}}})],1)],1)])},i=[],r=(a("4de4"),a("c7cd"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex justify-center",attrs:{name:"pagenatio"}},[t.showPagenation?a("div",{staticClass:"flex"},[a("span",{staticClass:"o",class:{"bg-yellow-500 border-yellow-500 text-white":1==t.pageNumber,"bg-green-500 border-green-500 text-white":t.pageNumber>1}},[1==t.pageNumber?a("span",[t._v("أضافة المعلومات الأساسية")]):a("span",[t._v("1")])]),a("span",{staticClass:"s",class:{"bg-green-500":t.pageNumber>1}}),a("span",{staticClass:"o",class:{"bg-yellow-500 border-yellow-500 text-white":2==t.pageNumber,"bg-green-500 border-green-500 text-white":t.pageNumber>2}},[2==t.pageNumber?a("span",[t._v("أدخال البيانات")]):a("span",[t._v("2")])]),a("span",{staticClass:"s",class:{"bg-green-500":t.pageNumber>2}}),a("span",{staticClass:"o",class:{"bg-yellow-500 border-yellow-500 text-white":3==t.pageNumber,"bg-green-500 border-green-500 text-white":t.pageNumber>3}},[3==t.pageNumber?a("span",[t._v("أضافة المواد الثابتة")]):a("span",[t._v("3")])]),a("span",{staticClass:"s",class:{"bg-green-500":t.pageNumber>3}}),a("span",{staticClass:"o",class:{"bg-yellow-500 border-yellow-500 text-white":4==t.pageNumber,"bg-green-500 border-green-500 text-white":t.pageNumber>4}},[4==t.pageNumber?a("span",[t._v("أضافة اعفاءات و ارتباطات المعلمين")]):a("span",[t._v("4")])]),a("span",{staticClass:"s",class:{"bg-green-500":t.pageNumber>4}}),a("span",{staticClass:"o",class:{"bg-yellow-500 border-yellow-500 text-white":5==t.pageNumber,"bg-green-500 border-green-500 text-white":t.pageNumber>5}},[5==t.pageNumber?a("span",[t._v("التحقق من المدخلات")]):a("span",[t._v("5")])])]):t._e()])}),l=[],o=(a("c975"),{props:{currentPage:{type:String}},data:function(){return{pageNumber:0,showPagenation:!0,unShowPages:["home-page","app-main-ui"],pages:["add-main-data","app-user-config-ui","fixed-subjects","teacher-exemptions","initial-table"]}},created:function(){this.currentPageF()},methods:{currentPageF:function(){-1!=this.unShowPages.indexOf(this.currentPage)?this.showPagenation=!1:this.showPagenation=!0,this.pageNumber=this.pages.indexOf(this.currentPage)+1}},watch:{currentPage:function(){this.currentPageF()}}}),c=o,u=a("2877"),d=Object(u["a"])(c,r,l,!1,null,null,null),f=d.exports,h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{name:"Home"}},[a("div",{staticClass:"w-full flex justify-center items-center text-center"},[a("div",{staticClass:"pt-20 w-3/4 flex flex-col items-center"},[a("span",{staticClass:"text-6xl"},[t._v("مدرستي")]),a("span",{staticClass:"mt-6"},[t._v("Lorem ipsum dolor sit amet consectetur, adipisicing elit. Hic beatae, libero expedita aut quae sequi doloremque earum autem sapiente, neque quasi quidem id commodi, illum excepturi cumque quisquam aliquid fuga.")]),a("span",{staticClass:"p-20 mt-6 bg-gray-500 hover:bg-gray-600 cursor-pointer rounded-full",staticStyle:{width:"max-content"},on:{click:function(e){return t.GoToUrl("add-main-data")}}},[t._v(" Go ")])])])])},p=[],m={methods:{GoToUrl:function(t){jt.$emit("ChangeUrl",t)}}},b=m,v=Object(u["a"])(b,h,p,!1,null,null,null),C=v.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{name:"Home"}},[a("div",{staticClass:"w-full flex justify-center items-center text-center"},[a("div",{staticClass:"pt-20 w-3/4 flex flex-col items-center"},[a("span",{staticClass:"p-20 mt-6 bg-gray-500 hover:bg-gray-600 cursor-pointer rounded-full",staticStyle:{width:"max-content"},on:{click:function(e){return t.retailUserConfig("all")}}},[t._v(" Go ")]),a("div",{staticClass:"mt-10"},[t._v(" after change : "),t._l(t.data.userConfig,(function(e,s){return a("ul",{key:s},[a("li",[t._v(t._s(e))])])}))],2)])])])},x=[],y=(a("4160"),a("a434"),a("159b"),{data:function(){return{subInDay:["الأولى","التانية","التالتة","الرابعة","الخامسة","السادسة","السابعة","التامنة","الناسعة"],dayOfWeek:[{id:1,name:"السبت"},{id:2,name:"الأحد"},{id:3,name:"الأثنين"},{id:4,name:"الثلاثاء"},{id:5,name:"الأربعاء"},{id:6,name:"الخميس"}],classes:[{id:1,name:"الأول",subInDay:6},{id:2,name:"الثاني",subInDay:6},{id:3,name:"الثالث",subInDay:6},{id:4,name:"الرابع",subInDay:7},{id:5,name:"الخامس",subInDay:7},{id:6,name:"السادس",subInDay:7},{id:7,name:"السابع",subInDay:7},{id:8,name:"الثامن",subInDay:8}],subjects:[{id:1,name:"قران"},{id:2,name:"عربي"},{id:3,name:"رياضيات"},{id:4,name:"فقه"},{id:5,name:"احياء"},{id:6,name:"كيمياء"},{id:7,name:"حاسوب"},{id:8,name:"مسككننا"},{id:9,name:"ملبسنا"},{id:10,name:"العلم في حياتنا"},{id:11,name:"مهارات"},{id:12,name:"تاريخ"},{id:13,name:"جغرافيا"},{id:14,name:"نشاط"},{id:15,name:"علوم"},{id:16,name:"انجليزي"},{id:17,name:"قصة"},{id:18,name:"فنون"},{id:19,name:"اسلامي"},{id:20,name:"معاصر"},{id:21,name:"تقنية"},{id:22,name:"سلامتنا"}],teachers:[{id:1,name:"مصعب"},{id:2,name:"محمد"},{id:3,name:"ابو القاسم"},{id:4,name:"حسن"},{id:5,name:"احمد"},{id:6,name:"دعاء"},{id:7,name:"نون"},{id:8,name:"عمر"},{id:9,name:"حمادة"},{id:10,name:"فاروق"},{id:11,name:"روان"},{id:12,name:"صفاء"},{id:13,name:"ريان"},{id:14,name:"ماريا"},{id:15,name:"فاطمة صالح"},{id:16,name:"فاطمة اسحق"},{id:17,name:"انتصار"},{id:18,name:"الهام"},{id:19,name:"فاطمة آدم"},{id:20,name:"زينب ابراهيم"},{id:21,name:"تسابيح"},{id:22,name:"سحر"},{id:23,name:"بلابل"},{id:24,name:"خديجة"},{id:25,name:"منى"},{id:26,name:"ماجدة"},{id:27,name:"حياة"},{id:28,name:"هدى"},{id:29,name:"سهام"},{id:30,name:"وصال"},{id:31,name:"صدام"},{id:32,name:"زينب حسن"},{id:33,name:"1"},{id:34,name:"2"},{id:35,name:"3"},{id:36,name:"4"},{id:37,name:"5"},{id:38,name:"6"},{id:39,name:"7"},{id:40,name:"8"}],colors:["#B46EC75c","#6FC76E5c","#6EC6C75c","#6E98C75c","#6E6EC75c","#C76E6E5c","#C6C76E5c","#8EC76E5c","#C7A46E5c","#C79B6E5c","#896EC75c","#A76EC75c","#C76EA15c","#C76E8A5c","#C76E7A5c","#6E96C75c","#C76EB35c","#C7AD6E5c","#C6C76E5c","#98C76E5c","#6EC77A5c","#6EC7AB5c","#6EB3C75c","#6E91C75c","#C7C76E5c","#6EC77E5c","#6EC7B55c","#C7B06E5c","#FBBB035c","#BFFB035c"]}},methods:{userDataBy:function(t,e){return"class"==t?this.data.userConfig.filter((function(t){return t.theClass.id==e})):"teacher"==t?this.data.userConfig.filter((function(t){return t.teacher.id==e})):"subject"==t?this.data.userConfig.filter((function(t){return t.subject.id==e})):[]},svg:function(){return"\n                <div class='pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700'>\n                    <svg class='fill-current h-4 w-4' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\n                        <path d='M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z'/>\n                    </svg>\n                </div>\n              "}}}),_={name:"viewSomeData",mixins:[y],props:{data:{type:Object,required:!0}},methods:{checkIfFoundError:function(){var t=this,e=!1;return this.data.userConfigBeforeChange.forEach((function(a){a.size>2*t.dayOfWeek.length&&(e=!0)})),e},retailUserConfig:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=[];if(!this.checkIfFoundError()){var n=this.data.userConfigBeforeChange;if("class"==e&&null!=a){var i=this.data.userConfigBeforeChange.filter((function(t){return t.theClass.id==a}));n=i}n.forEach((function(e){var a=t.retailSingleUserConfig(e);a.forEach((function(t){s.push({theClass:e.theClass,teacher:e.teacher,subject:e.subject,size:t,duplication:e.duplication,fixed:e.fixed,isExemptions:e.isExemptions})}))})),jt.$emit("retailUserConfig",s)}},retailSingleUserConfig:function(t){var e=[],a=t.retail;if(0==a){for(var s=0;s<this.dayOfWeek.length;s++)e.push(0);var n=t.size;while(n>0){do{var i=Math.floor(Math.random()*e.length)}while(e[i]+1>2);e[i]+=1,n-=1}for(var r=0;r<e.length;r++)0==e[r]&&(e.splice(r,1),r--);e.sort((function(t,e){return t==e?0:t<e?1:-1}))}if(1==a||3==a){var l=t.size,o=0;while(l>0)e.length<this.dayOfWeek.length?(e.push(1),l-=1):(e[e.length%this.dayOfWeek.length+o++]+=1,l-=1)}if(2==a){var c=t.size;while(c>0)c%2==0?(e.push(2),c-=2):(e.push(1),c-=1);e.sort((function(t,e){return t==e?0:t<e?1:-1}))}if(4==a){var u=t.size;while(u>0)if(1==u)e.push(1),u-=1;else{var d=Math.floor(2*Math.random()+1);e.push(d),u-=d}e.sort((function(t,e){return t==e?0:t<e?1:-1}))}return e}}},w=_,I=Object(u["a"])(w,g,x,!1,null,null,null),j=I.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"l16 bg-gray-100 min-h-screen",attrs:{dir:"rtl"}},[a("div",{staticClass:"p-5 mx-10"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.showLoad,expression:"showLoad"}],staticClass:"fixed inset-0 bg-black opacity-50"}),a("div",{staticClass:"flex justify-center"},[a("div",{staticClass:"w-2/3 py-3 px-5 bg-gray-300 rounded shadow flex justify-between items-center"},[t._m(0),a("div",[a("span",{staticClass:"bg-red-500 hover:bg-red-600 py-1 mx-1 px-10 rounded cursor-pointer",on:{click:function(e){return t.GoToUrl("add-main-data")}}},[t._v("رجوع")]),a("span",{staticClass:"bg-green-300 py-1 mx-1 px-10 rounded cursor-not-allowed"},[t._v("طباعة النتائج")])])])]),a("div",{staticClass:"w-full flex justify-center"},[a("button",{staticClass:"p-2 mt-5 mx-5 bg-gray-400 rounded hover:bg-gray-500 focus:outline-none cursor-pointer",on:{click:function(e){return t.addSubjectToAllClass()}}},[t._v("Random")]),a("button",{staticClass:"p-2 mt-5 mx-5 bg-gray-400 rounded hover:bg-gray-500 focus:outline-none cursor-pointer",on:{click:function(e){return t.addSubjectToAllClassByFirstToEndClass()}}},[t._v("أنشاء الجدول")])]),a("div",{staticClass:"mt-40"},[a("span",{staticClass:"font-bold"},[t._v("قائمة بالحصص التي لم يتم اضافتها : ")]),t._l(t.data.mainData.classes,(function(e,s){return a("div",{key:s},[t._v(" "+t._s(e.name)+" : "),t._l(t.iCanNotAddIt[e.id-1],(function(e,s){return a("ul",{key:s,staticClass:"mx-5"},[a("li",[a("span",{staticClass:"font-bold"},[t._v("المادة : ")]),t._v(t._s(e.subject.name)+" "),a("span",{staticClass:"font-bold"},[t._v("الأستاذ : ")]),t._v(" "+t._s(e.teacher.name)+" "),a("span",{staticClass:"font-bold"},[t._v("عدد الحصص : ")]),t._v(t._s(e.size))])])}))],2)}))],2),a("div",{staticClass:"w-full flex justify-center mt-20"},[a("button",{staticClass:"p-2 mt-5 mx-5 bg-gray-400 rounded hover:bg-gray-500 focus:outline-none cursor-pointer",on:{click:function(e){t.showMainUi=!0}}},[t._v("عرض جدول حصص الفصول")]),a("button",{staticClass:"p-2 mt-5 mx-5 bg-gray-400 rounded hover:bg-gray-500 focus:outline-none cursor-pointer",on:{click:function(e){t.showMainUi=!1}}},[t._v("عرض جدول حصص المعلمين")])]),t.showMainUi?a("div",{staticClass:"w-full mt-20"},t._l(t.data.mainData.classes,(function(e,s){return a("table",{key:s,staticClass:"table-auto mt-10"},[a("thead",[a("tr",{staticClass:"flex flex-wrap font-bold border-b-2 border-gray-400"},[a("td",{staticClass:"w-64 font-extrabold text-xl"},[t._v("الصف "+t._s(e.name))]),t._l(e.subInDay,(function(e,s){return a("td",{key:s,staticClass:"w-56 font-semibold"},[t._v(t._s(t.data.mainData.subInDay[e-1]))])}))],2)]),a("tbody",t._l(t.data.mainData.dayOfWeek,(function(e,n){return a("tr",{key:n,staticClass:"flex flex-wrap border-b-2 border-gray-400"},[a("td",{staticClass:"w-64 font-semibold"},[t._v(t._s(e.name))]),t._l(t.data.subInClasses[s][n],(function(e,s){return a("td",{key:s,staticClass:"w-56",style:null!=e.subject.name?{"background-color":0==t.colorDefulte?t.data.mainData.colors[(e.subject.id-1)%30]:1==t.colorDefulte?t.data.mainData.colors[(e.teacher.id-1)%30]:22==e.teacher.id||e.subject.name==t.customSubjectColor?t.data.mainData.colors[0]:""}:""},[t._v(" "+t._s(e.subject.name)+" "+t._s(null!=e.teacher.name&&""!=e.teacher.name?"("+e.teacher.name+")":"")+" ")])}))],2)})),0)])})),0):t._e(),t.showMainUi?t._e():a("viewSomeData",{attrs:{data:t.data}}),a("div",{staticClass:"w-full flex justify-center"},[a("button",{staticClass:"p-2 mt-5 mx-5 bg-gray-400 rounded hover:bg-gray-500 focus:outline-none cursor-pointer",on:{click:function(e){t.colorDefulte=(t.colorDefulte+1)%3}}},[t._v("change color")])])],1)])},D=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v(" المرحلة الأخيرة اضغط على انشاء الجدول ليتم انشاء الجدول بناءا على المدخلات الخاصة بك"),a("br"),t._v(" *.سيتم عرض كافة الحصص والمواد التي لم يستطع النظام اضافتها في قائمة خاصة نظرا لوجود تضارب او عدم تفرغ المعلم"),a("br"),t._v(" *.في حالة كانت المدخلات خالية من التعقيد سيتم انشاء الجدول خلال ثانية"),a("br"),t._v(" *.يمكن أعادة ادخال البيانات عبر الضغط على زر العودة ")])}],T=(a("b0c0"),a("4c53"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"l16"},[a("div",{staticClass:"w-full mt-20"},[a("table",{staticClass:"w-full table-auto mt-10"},[a("thead",[a("tr",{staticClass:"flex flex-wrap font-bold mb-1"},[a("td",{staticClass:"w-20 font-extrabold text-xl"},[t._v("الأستاذ")]),t._l(t.data.mainData.teachers,(function(e){return a("td",{key:e.id,staticClass:"w-16 font-semibold"},[t._v(t._s(e.name))])}))],2)]),a("tbody",[a("tr",{staticClass:"flex flex-wrap"},[a("td",{staticClass:"w-20 font-semibold"},[t._v(" عدد الحصص")]),t._l(t.data.mainData.teachers,(function(e){return a("td",{key:e.id,staticClass:"w-16"},[t._v(t._s(t.getSubCount("teacher",e.id)))])}))],2)])])]),a("div",{staticClass:"w-full mt-20"},[a("table",{staticClass:"w-full table-auto mt-10"},[a("thead",[a("tr",{staticClass:"flex flex-wrap font-bold mb-1"},[a("td",{staticClass:"w-20 font-extrabold text-xl"},[t._v("الفصل")]),t._l(t.data.mainData.classes,(function(e){return a("td",{key:e.id,staticClass:"w-16 font-semibold"},[t._v(t._s(e.name))])}))],2)]),a("tbody",[a("tr",{staticClass:"flex flex-wrap"},[a("td",{staticClass:"w-20 font-semibold"},[t._v(" عدد الحصص")]),t._l(t.data.mainData.classes,(function(e){return a("td",{key:e.id,staticClass:"w-16"},[t._v(t._s(t.getSubCount("class",e.id)))])}))],2)])])]),a("div",{staticClass:"w-full mt-20"},t._l(t.data.mainData.teachers,(function(e){return a("table",{directives:[{name:"show",rawName:"v-show",value:0!=e.id,expression:"teacher.id != 0"}],key:e.id,staticClass:"w-full table-auto mt-10"},[a("thead",[a("tr",{staticClass:"flex flex-wrap font-bold mb-1 border-b-2 border-gray-400"},[a("td",{staticClass:"w-64 font-extrabold text-xl"},[t._v("استاذ "+t._s(e.name))]),t._l(8,(function(e,s){return a("td",{key:s,staticClass:"w-56 font-semibold"},[t._v(t._s(t.data.mainData.subInDay[s]))])}))],2)]),a("tbody",t._l(t.data.mainData.dayOfWeek,(function(s,n){return a("tr",{key:s.id,staticClass:"flex flex-wrap border-b-2 border-gray-400"},[a("td",{staticClass:"w-64 font-semibold"},[t._v(t._s(s.name))]),t._l(8,(function(s,i){return a("td",{key:i,staticClass:"w-56"},t._l(t.getSubsOfTeacher(e.id,n,s-1),(function(e,s){return a("span",{key:s},[t._v(t._s(e))])})),0)}))],2)})),0)])})),0)])}),k=[],S={name:"viewSomeData",props:{data:{type:Object,required:!0}},data:function(){return{userClass:null,userTeacher:null,userSubjects:null}},methods:{getSubsOfTeacher:function(t,e,a){var s=this,n=[];return this.data.subInClasses.forEach((function(i){if("undefined"!=typeof i[e]&&"undefined"!=typeof i[e][a]&&i[e][a].teacher.id==t){var r=s.data.mainData.classes[i[e][a].oId[0]].name;n.push(i[e][a].subject.name+" ("+r+")")}})),n},getSubCount:function(t,e){var a=0,s=this.userDataBy(t,e);return s.forEach((function(t){a+=t.size})),a},userDataBy:function(t,e){return"class"==t?this.data.userConfig.filter((function(t){return t.theClass.id==e})):"teacher"==t?this.data.userConfig.filter((function(t){return t.teacher.id==e})):"subject"==t?this.data.userConfig.filter((function(t){return t.subject.id==e})):[]}}},A=S,O=Object(u["a"])(A,T,k,!1,null,null,null),B=O.exports,U={name:"mainUi",components:{viewSomeData:B},props:{data:{type:Object,required:!0}},data:function(){return{showMainUi:!0,showLoad:!1,iCanNotAddIt:[],bestDistribution:{data:null,canNotAddLength:null},colorDefulte:3,customSubjectColor:""}},created:function(){for(var t=0;t<this.data.mainData.classes.length;t++)this.iCanNotAddIt.push([])},methods:{GoToUrl:function(t){jt.$emit("ChangeUrl",t)},emptySubInClass:function(t){for(var e=[],a=0;a<t.length;a++){for(var s=[],n=0;n<t[a].length;n++)null==t[a][n].subject.name&&s.push({data:t[a][n],loc:n});e.push({data:s,loc:a})}for(var i=0;i<e.length;i++)0==e[i].data.length&&(e.splice(i,1),i--);return e},teacherIsEmpty:function(t,e,a){var s=!0;return 0==t||this.data.subInClasses.forEach((function(n){"undefined"!=typeof n[e][a]&&n[e][a].teacher.id==t&&(s=!1)})),s},nextLocIsEmpty:function(t,e,a,s){return"undefined"!=typeof t&&("undefined"!=typeof t.data&&("undefined"!=typeof t.data.subject.name&&(null==t.data.subject.name&&(t.loc==s+1&&this.teacherIsEmpty(e,a,t.loc)))))},DayHasNoThisSubject:function(t,e,a){var s=!0;return this.data.subInClasses[t-1][e].forEach((function(t){t.subject.id==a&&(s=!1)})),s},locationIsAnExemption:function(t,e,a){var s=!0,n=this.data.teacherExemptions.filter((function(e){return e.teacher.id==t}));return n[0].locations.forEach((function(t){t.day==e&&t.sub==a&&(s=!1)})),s},addFixedSubjectsToClasses:function(){var t=this;this.data.userConfig.filter((function(t){return t.fixed.status})).forEach((function(e){var a;for(a=0;a<t.data.mainData.classes.length;a++)if(t.data.mainData.classes[a].id==e.theClass.id)break;var s=t.data.subInClasses[a];s[e.fixed.location.day][e.fixed.location.sub].subject=e.subject,s[e.fixed.location.day][e.fixed.location.sub].teacher=e.teacher}))},canAdd:function(t){if(t.data.fixed.status)return{iCan:!1,location:0,location2:0};var e=0,a=this.emptySubInClass(t.theClass),s=!1;if(a.length>0){s=!0;var n,i,r=!0;do{if(n=Math.floor(Math.random()*a.length),i=Math.floor(Math.random()*a[n].data.length),500==e++){s=!1,this.iCanNotAddIt[t.data.theClass.id-1].push(t.data);break}var l=a[n],o=this.teacherIsEmpty(t.teacherId,l.loc,l.data[i].loc);r=null==l.data[i].data.subject.name&&o,2==t.data.size&&(r=r&&this.nextLocIsEmpty(l.data[i+1],t.teacherId,l.loc,l.data[i].loc)),t.data.duplication||(r=r&&this.DayHasNoThisSubject(t.data.theClass.id,l.loc,t.data.subject.id)),"undefined"!=typeof t.data.isExemptions&&t.data.isExemptions&&(r=r&&this.locationIsAnExemption(t.teacherId,l.loc,l.data[i].loc),2==t.data.size&&(r=r&&this.locationIsAnExemption(t.teacherId,l.loc,l.data[i+1].loc)))}while(!r)}else this.iCanNotAddIt[t.data.theClass.id-1].push(t.data);var c={iCan:!1,location:0,location2:0};return s&&r&&(c={iCan:s,location:a[n].data[i].data,location2:2==t.data.size?a[n].data[i+1].data:0}),c},addSubjectToClass:function(t,e){var a;for(a=0;a<this.data.mainData.classes.length;a++)if(this.data.mainData.classes[a].id==t)break;var s=this.data.subInClasses[a],n=this.canAdd({theClass:s,teacherId:e.teacher.id,data:e});n.iCan&&(n.location.subject=e.subject,n.location.teacher=e.teacher,2==e.size&&(n.location2.subject=e.subject,n.location2.teacher=e.teacher))},addSubjectToAllClass:function(){var t=this;this.showLoad=!0,setTimeout((function(){t.restartData(),t.data.userConfig.forEach((function(e){t.addSubjectToClass(e.theClass.id,e)})),t.checkIfBestDistribution()}),50)},addSubjectToAllClassByFirstToEndClass:function(){var t=this;this.showLoad=!0,setTimeout((function(){t.restartData(),t.data.mainData.classes.forEach((function(e){t.addSubjectToSpecificallyClass(e.id)})),t.checkIfBestDistribution()}),50)},addSubjectToSpecificallyClass:function(t){var e,a=this;for(e=0;e<this.data.mainData.classes.length;e++)if(this.data.mainData.classes[e].id==t)break;this.iCanNotAddIt[e]=[],this.data.subInClasses[e].forEach((function(t){t.forEach((function(t){t.subject={id:null,name:null},t.teacher={id:null,name:null}}))})),this.addFixedSubjectsToClasses(),this.userDataBy("class",t).forEach((function(t){a.addSubjectToClass(t.theClass.id,t)}))},userDataBy:function(t,e){return"class"==t?this.data.userConfig.filter((function(t){return t.theClass.id==e})):"teacher"==t?this.data.userConfig.filter((function(t){return t.teacher.id==e})):"subject"==t?this.data.userConfig.filter((function(t){return t.subject.id==e})):[]},addBestDistribution:function(t){(null==this.bestDistribution.canNotAddLength||this.iCanNotAddIt[t-1].length<this.bestDistribution.canNotAddLength)&&(this.bestDistribution.data=this.data.subInClasses[t-1],this.bestDistribution.canNotAddLength=this.iCanNotAddIt[t-1].length),this.iCanNotAddIt[t-1].length>this.bestDistribution.canNotAddLength&&null!=this.bestDistribution.canNotAddLength&&(this.data.subInClasses[t-1]=this.bestDistribution.data,this.iCanNotAddIt[t-1].length=this.bestDistribution.canNotAddLength)},addSubjectToAllClassWithOutCheck:function(){var t=this;this.restartData(),this.data.userConfig.forEach((function(e){t.addSubjectToClass(e.theClass.id,e)}))},checkIfBestDistribution:function(){var t=this,e=0;this.iCanNotAddIt.forEach((function(t){t.length>0&&(e+=t.length)}));var a=0;while(e>0){if(this.iCanNotAddIt.forEach((function(e){var a=0;if(e.length>0){var s=e[0].theClass.id;while(t.iCanNotAddIt[s-1].length>0)if(t.addSubjectToSpecificallyClass(s),t.addBestDistribution(s),400==a++)break;t.bestDistribution={data:null,canNotAddLength:null}}})),e=0,this.iCanNotAddIt.forEach((function(t){t.length>0&&(e+=t.length)})),++a==20*this.data.possibilityLevel)break;e>0&&a%5==0&&(console.log("change table"),this.addSubjectToAllClassWithOutCheck()),e>0&&a%10==0&&console.log("change user Config")}a=0,this.showLoad=!1},restartData:function(){for(var t=0;t<this.iCanNotAddIt.length;t++)this.iCanNotAddIt[t]=[];this.data.subInClasses.forEach((function(t){t.forEach((function(t){t.forEach((function(t){t.subject={id:null,name:null},t.teacher={id:null,name:null}}))}))})),this.addFixedSubjectsToClasses()}}},$=U,N=Object(u["a"])($,E,D,!1,null,null,null),F=N.exports,P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"l16"},[a("div",{staticClass:"w-full py-20"},[a("div",{staticClass:"flex justify-center"},[a("div",{staticClass:"w-2/3 py-3 px-5 bg-gray-300 rounded shadow flex justify-between items-center"},[a("span",[t._v("في هذه المرحلة يجب ادخال جميع البيانات الأساسية من عدد ايام الأسبوع والفصول وكل المواد وكل المعلمين")]),a("span",{staticClass:"bg-green-500 hover:bg-green-600 py-1 px-10 rounded cursor-pointer",on:{click:function(e){return t.GoToUrl("app-user-config-ui")}}},[t._v("تم")])])]),a("div",{staticClass:"flex justify-center py-10"},[a("table",{staticClass:"table-auto mt-10 rounded shadow-xl overflow-hidden"},[t._m(0),a("tbody",t._l(t.dayOfWeekInput,(function(e,s){return a("tr",{key:s,staticClass:"flex flex-wrap border-b-2 border-gray-300 bg-white hover:bg-gray-300"},[a("td",{staticClass:"w-20 font-semibold px-2"},[t._v(t._s(s+1))]),a("td",{staticClass:"w-32 font-semibold"},[t._v(t._s(e.name))]),a("td",{staticClass:"w-32 font-semibold text-center"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.state,expression:"day.state"}],staticClass:"w-full h-full",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.state)?t._i(e.state,null)>-1:e.state},on:{click:t.AddDay,change:function(a){var s=e.state,n=a.target,i=!!n.checked;if(Array.isArray(s)){var r=null,l=t._i(s,r);n.checked?l<0&&t.$set(e,"state",s.concat([r])):l>-1&&t.$set(e,"state",s.slice(0,l).concat(s.slice(l+1)))}else t.$set(e,"state",i)}}})])])})),0)])]),a("div",{staticClass:"flex justify-center py-10"},[a("table",{staticClass:"table-auto mt-10 rounded shadow-xl overflow-hidden"},[t._m(1),a("tbody",[t._l(t.data.mainData.classes,(function(e,s){return a("tr",{key:s,staticClass:"flex flex-wrap border-b-2 border-gray-300 bg-white hover:bg-gray-300"},[a("td",{staticClass:"w-20 font-semibold px-2"},[t._v(t._s(s+1))]),a("td",{staticClass:"w-32 font-semibold"},[t._v(t._s(e.name))]),a("td",{staticClass:"w-32 font-semibold"},[t._v(t._s(e.subInDay))]),a("td",{staticClass:"w-32 font-semibold text-center"},[a("span",{staticClass:"text-red-500 cursor-pointer",on:{click:function(e){return t.data.mainData.classes.splice(s,1)}}},[t._v("X")])])])})),a("tr",{staticClass:"flex flex-wrap border-b-2 border-gray-300 bg-white"},[a("td",{staticClass:"w-20 font-semibold px-2"}),a("td",{staticClass:"w-32 font-semibold"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.userInput.classInput,expression:"userInput.classInput"}],staticClass:"w-full h-full bg-gray-400 p-1",attrs:{type:"text"},domProps:{value:t.userInput.classInput},on:{input:function(e){e.target.composing||t.$set(t.userInput,"classInput",e.target.value)}}})]),a("td",{staticClass:"w-32 font-semibold"},[a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.userInput.classsubInDayInput,expression:"userInput.classsubInDayInput",modifiers:{number:!0}}],staticClass:"w-full h-full bg-gray-400 p-1",attrs:{type:"text"},domProps:{value:t.userInput.classsubInDayInput},on:{input:function(e){e.target.composing||t.$set(t.userInput,"classsubInDayInput",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),a("td",{staticClass:"w-32 font-semibold text-center flex items-center"},[a("span",{staticClass:"bg-green-400 hover:bg-green-500 w-full py-1 rounded-md cursor-pointer",on:{click:t.AddClass}},[t._v("أضافة")])])])],2)])]),a("div",{staticClass:"flex justify-center py-10"},[a("table",{staticClass:"table-auto mt-10 rounded shadow-xl overflow-hidden"},[t._m(2),a("tbody",[t._l(t.data.mainData.subjects,(function(e,s){return a("tr",{key:s,staticClass:"flex flex-wrap border-b-2 border-gray-300 bg-white hover:bg-gray-300"},[a("td",{staticClass:"w-20 font-semibold px-2"},[t._v(t._s(s+1))]),a("td",{staticClass:"w-32 font-semibold"},[t._v(t._s(e.name))]),a("td",{staticClass:"w-32 font-semibold text-center"},[a("span",{staticClass:"text-red-500 cursor-pointer",on:{click:function(e){return t.data.mainData.subjects.splice(s,1)}}},[t._v("X")])])])})),a("tr",{staticClass:"flex flex-wrap border-b-2 border-gray-300 bg-white"},[a("td",{staticClass:"w-20 font-semibold px-2"}),a("td",{staticClass:"w-32 font-semibold"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.userInput.subjectInput,expression:"userInput.subjectInput"}],staticClass:"w-full h-full bg-gray-400 p-1",attrs:{type:"text"},domProps:{value:t.userInput.subjectInput},on:{input:function(e){e.target.composing||t.$set(t.userInput,"subjectInput",e.target.value)}}})]),a("td",{staticClass:"w-32 font-semibold text-center flex items-center"},[a("span",{staticClass:"bg-green-400 hover:bg-green-500 w-full py-1 rounded-md cursor-pointer",on:{click:t.AddSubject}},[t._v("أضافة")])])])],2)])]),a("div",{staticClass:"flex justify-center py-10"},[a("table",{staticClass:"table-auto mt-10 rounded shadow-xl overflow-hidden"},[t._m(3),a("tbody",[t._l(t.data.mainData.teachers,(function(e,s){return a("tr",{key:s,staticClass:"flex flex-wrap border-b-2 border-gray-300 bg-white hover:bg-gray-300"},[a("td",{staticClass:"w-20 font-semibold px-2"},[t._v(t._s(s+1))]),a("td",{staticClass:"w-32 font-semibold"},[t._v(t._s(e.name))]),a("td",{staticClass:"w-32 font-semibold text-center"},[0!=e.id?a("span",{staticClass:"text-red-500 cursor-pointer",on:{click:function(e){return t.data.mainData.teachers.splice(s,1)}}},[t._v("X")]):t._e()])])})),a("tr",{staticClass:"flex flex-wrap border-b-2 border-gray-300 bg-white"},[a("td",{staticClass:"w-20 font-semibold px-2"}),a("td",{staticClass:"w-32 font-semibold"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.userInput.teacherInput,expression:"userInput.teacherInput"}],staticClass:"w-full h-full bg-gray-400 p-1",attrs:{type:"text"},domProps:{value:t.userInput.teacherInput},on:{input:function(e){e.target.composing||t.$set(t.userInput,"teacherInput",e.target.value)}}})]),a("td",{staticClass:"w-32 font-semibold text-center flex items-center"},[a("span",{staticClass:"bg-green-400 hover:bg-green-500 w-full py-1 rounded-md cursor-pointer",on:{click:t.AddTeacher}},[t._v("أضافة")])])])],2)])]),a("div",{staticClass:"flex justify-center py-10"},[a("div",{staticClass:"w-1/3 bg-gray-300 rounded shadow px-2 py-4 flex justify-between"},[t._m(4),a("div",{staticClass:"flex"},[a("span",{staticClass:"mx-1"},[a("input",{staticClass:"mx-1 cursor-pointer",attrs:{type:"radio",name:"pL",checked:""},on:{click:function(e){return t.possibilityLevel(1)}}}),t._v("مستوى 1")]),a("span",{staticClass:"mx-1"},[a("input",{staticClass:"mx-1 cursor-pointer",attrs:{type:"radio",name:"pL"},on:{click:function(e){return t.possibilityLevel(2)}}}),t._v("مستوى 2")]),a("span",{staticClass:"mx-1"},[a("input",{staticClass:"mx-1 cursor-pointer",attrs:{type:"radio",name:"pL"},on:{click:function(e){return t.possibilityLevel(3)}}}),t._v("مستوى 3")]),a("span",{staticClass:"mx-1"},[a("input",{staticClass:"mx-1 cursor-pointer",attrs:{type:"radio",name:"pL"},on:{click:function(e){return t.possibilityLevel(4)}}}),t._v("مستوى 4")])])])])])])},z=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticClass:"flex flex-wrap font-bold border-b-2 border-gray-400 items-center bg-gray-400"},[a("td",{staticClass:"w-20 font-extrabold text-xl"}),a("td",{staticClass:"w-32 font-extrabold text-xl"},[t._v("عدد ايام الأسبوع")]),a("td",{staticClass:"w-32 font-extrabold text-xl text-center"},[t._v("الحالة")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticClass:"flex flex-wrap font-bold border-b-2 border-gray-400 items-center bg-gray-400"},[a("td",{staticClass:"w-20 font-extrabold text-xl"}),a("td",{staticClass:"w-32 font-extrabold text-xl"},[t._v("الصف")]),a("td",{staticClass:"w-32 font-extrabold text-xl"},[t._v("عدد الحصص في اليوم")]),a("td",{staticClass:"w-32 font-extrabold text-xl text-center"},[t._v("حذف")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticClass:"flex flex-wrap font-bold border-b-2 border-gray-400 items-center bg-gray-400"},[a("td",{staticClass:"w-20 font-extrabold text-xl"}),a("td",{staticClass:"w-32 font-extrabold text-xl"},[t._v("المادة")]),a("td",{staticClass:"w-32 font-extrabold text-xl text-center"},[t._v("حذف")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticClass:"flex flex-wrap font-bold border-b-2 border-gray-400 items-center bg-gray-400"},[a("td",{staticClass:"w-20 font-extrabold text-xl"}),a("td",{staticClass:"w-32 font-extrabold text-xl"},[t._v("الأستاذ")]),a("td",{staticClass:"w-32 font-extrabold text-xl text-center"},[t._v("حذف")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("span",[t._v("أمكانية الجهاز")])])}],L=(a("99af"),a("d81d"),a("2909")),M={name:"AddMainData",props:{data:{type:Object,required:!0}},data:function(){return{dayOfWeekInput:[{id:1,name:"السبت",state:!1},{id:2,name:"الأحد",state:!0},{id:3,name:"الأثنين",state:!0},{id:4,name:"الثلاثاء",state:!0},{id:5,name:"الأربعاء",state:!0},{id:6,name:"الخميس",state:!0},{id:7,name:"الجمعة",state:!1}],userInput:{dayInput:null,classInput:null,classsubInDayInput:null,subjectInput:null,teacherInput:null}}},methods:{GoToUrl:function(t){jt.$emit("ChangeUrl",t)},AddDay:function(){var t=this;setTimeout((function(){var e=[];t.dayOfWeekInput.forEach((function(t){1==t.state&&e.push({id:t.id,name:t.name})})),t.data.mainData.dayOfWeek=e}),50)},AddClass:function(){if(null!=this.userInput.classInput&&null!=this.userInput.classsubInDayInput){var t=Math.max([1].concat(Object(L["a"])(this.data.mainData.classes.map((function(t){return t.id})))));this.data.mainData.classes.push({id:t+1,name:this.userInput.classInput,subInDay:this.userInput.classsubInDayInput}),this.userInput.classInput=null,this.userInput.classsubInDayInput=null}},AddSubject:function(){if(null!=this.userInput.subjectInput){var t=Math.max([1].concat(Object(L["a"])(this.data.mainData.subjects.map((function(t){return t.id})))));this.data.mainData.subjects.push({id:t+1,name:this.userInput.subjectInput}),this.userInput.subjectInput=null}},AddTeacher:function(){if(null!=this.userInput.teacherInput){var t=Math.max([1].concat(Object(L["a"])(this.data.mainData.teachers.map((function(t){return t.id})))));this.data.mainData.teachers.push({id:t+1,name:this.userInput.teacherInput}),this.userInput.teacherInput=null}},possibilityLevel:function(t){jt.$emit("changePossibilityLevel",t)}}},W=M,q=Object(u["a"])(W,P,z,!1,null,null,null),G=q.exports,V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"l16"},[a("div",{staticClass:"w-full mt-20"},[a("div",{staticClass:"flex justify-center"},[a("div",{staticClass:"w-2/3 py-3 px-5 bg-gray-300 rounded shadow flex justify-between items-center"},[t._m(0),a("div",[a("span",{staticClass:"bg-red-500 hover:bg-red-600 py-1 mx-1 px-10 rounded cursor-pointer",on:{click:function(e){return t.GoToUrl("add-main-data")}}},[t._v("رجوع")]),a("span",{staticClass:"bg-green-500 hover:bg-green-600 py-1 px-10 rounded cursor-pointer",on:{click:function(e){return t.GoToUrl("fixed-subjects")}}},[t._v("تم")])])])]),a("form",{staticClass:"flex justify-center mt-20",on:{submit:function(e){return e.preventDefault(),t.addToUserConfig()}}},[a("div",{staticClass:"w-full max-w-2xl bg-white rounded-lg p-6 shadow-xl"},[a("div",{staticClass:"flex flex-wrap -mx-3"},[a("div",{staticClass:"w-full px-3 mb-6"},[a("label",{staticClass:"lableClasses"},[t._v("الأستاذ")]),a("div",{staticClass:"relative"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.userInput.teacher,expression:"userInput.teacher"}],staticClass:"selectClasses",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.userInput,"teacher",e.target.multiple?a:a[0])}}},t._l(t.data.mainData.teachers,(function(e,s){return a("option",{key:s,domProps:{value:e}},[t._v(t._s(e.name))])})),0),a("div",{domProps:{innerHTML:t._s(t.svg())}})])]),a("div",{staticClass:"w-1/3 px-3 mb-6"},[a("label",{staticClass:"lableClasses"},[t._v("المادة")]),a("div",{staticClass:"relative"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.userInput.subject,expression:"userInput.subject"}],staticClass:"selectClasses",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.userInput,"subject",e.target.multiple?a:a[0])}}},t._l(t.data.mainData.subjects,(function(e,s){return a("option",{key:s,domProps:{value:e,textContent:t._s(e.name)}})})),0),a("div",{domProps:{innerHTML:t._s(t.svg())}})])]),a("div",{staticClass:"w-1/3 px-3 mb-6"},[a("label",{staticClass:"lableClasses"},[t._v("الفصل")]),a("div",{staticClass:"relative"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.userInput.theClass,expression:"userInput.theClass"}],staticClass:"selectClasses",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.userInput,"theClass",e.target.multiple?a:a[0])}}},t._l(t.data.mainData.classes,(function(e,s){return a("option",{key:s,domProps:{value:e,textContent:t._s(e.name)}})})),0),a("div",{domProps:{innerHTML:t._s(t.svg())}})])]),a("div",{staticClass:"w-1/3 px-3 mb-6"},[a("label",{staticClass:"lableClasses"},[t._v("عدد الحصص")]),a("div",{staticClass:"relative"},[a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.userInput.size,expression:"userInput.size",modifiers:{number:!0}}],staticClass:"selectClasses",attrs:{type:"number"},domProps:{value:t.userInput.size},on:{input:function(e){e.target.composing||t.$set(t.userInput,"size",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])]),a("div",{staticClass:"w-full px-3 mb-6"},[a("label",{staticClass:"lableClasses"},[t._v("طريقة التوزيع")]),a("div",{staticClass:"relative"},[a("div",{staticClass:"block"},[a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.userInput.retailType,expression:"userInput.retailType",modifiers:{number:!0}}],staticClass:"mx-2 my-2 py-1 cursor-pointer",attrs:{type:"radio",name:"retail",value:"0"},domProps:{checked:t._q(t.userInput.retailType,t._n("0"))},on:{change:function(e){t.$set(t.userInput,"retailType",t._n("0"))}}}),a("label",{attrs:{for:"retail"}},[t._v(t._s(t.retailTypes[0]))])]),a("div",{staticClass:"block"},[a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.userInput.retailType,expression:"userInput.retailType",modifiers:{number:!0}}],staticClass:"mx-2 my-2 py-1 cursor-pointer",attrs:{type:"radio",name:"retail",value:"1"},domProps:{checked:t._q(t.userInput.retailType,t._n("1"))},on:{change:function(e){t.$set(t.userInput,"retailType",t._n("1"))}}}),a("label",{attrs:{for:"retail"}},[t._v(t._s(t.retailTypes[1]))])]),a("div",{staticClass:"block"},[a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.userInput.retailType,expression:"userInput.retailType",modifiers:{number:!0}}],staticClass:"mx-2 my-2 py-1 cursor-pointer",attrs:{type:"radio",name:"retail",value:"2"},domProps:{checked:t._q(t.userInput.retailType,t._n("2"))},on:{change:function(e){t.$set(t.userInput,"retailType",t._n("2"))}}}),a("label",{attrs:{for:"retail"}},[t._v(t._s(t.retailTypes[2]))])]),a("div",{staticClass:"block"},[a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.userInput.retailType,expression:"userInput.retailType",modifiers:{number:!0}}],staticClass:"mx-2 my-2 py-1 cursor-pointer",attrs:{type:"radio",name:"retail",value:"3"},domProps:{checked:t._q(t.userInput.retailType,t._n("3"))},on:{change:function(e){t.$set(t.userInput,"retailType",t._n("3"))}}}),a("label",{attrs:{for:"retail"}},[t._v(t._s(t.retailTypes[3]))])]),a("div",{staticClass:"block"},[a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.userInput.retailType,expression:"userInput.retailType",modifiers:{number:!0}}],staticClass:"mx-2 my-2 py-1 cursor-pointer",attrs:{type:"radio",name:"retail",value:"4"},domProps:{checked:t._q(t.userInput.retailType,t._n("4"))},on:{change:function(e){t.$set(t.userInput,"retailType",t._n("4"))}}}),a("label",{attrs:{for:"retail"}},[t._v(" "+t._s(t.retailTypes[4])+" "),a("span",{staticClass:"text-xs text-red-400"},[t._v("*يرجى اختيار هذا الخيار في حالة المادة للفصول الصغيرة أولى تانية.. والتي نقبل عدة حصص في نقس اليوم")])])])])]),a("div",{staticClass:"w-full px-3 mb-6"},[a("div",{staticClass:"w-full flex items-center"},[a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.userInput.duplication,expression:"userInput.duplication",modifiers:{number:!0}}],staticClass:"mx-2 my-2 py-1 cursor-pointer",attrs:{type:"checkbox",name:"duplication"},domProps:{checked:Array.isArray(t.userInput.duplication)?t._i(t.userInput.duplication,null)>-1:t.userInput.duplication},on:{change:function(e){var a=t.userInput.duplication,s=e.target,n=!!s.checked;if(Array.isArray(a)){var i=t._n(null),r=t._i(a,i);s.checked?r<0&&t.$set(t.userInput,"duplication",a.concat([i])):r>-1&&t.$set(t.userInput,"duplication",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.userInput,"duplication",n)}}}),a("label",{staticClass:"lableClasses"},[t._v("امكانية وجود نفس المادة في مكانين مختلفين ويوم واحد")])]),a("span",{staticClass:"block text-xs text-red-400"},[t._v("*يرجى اختيار هذا الخيار في حالة المادة للفصول الصغيرة أولى تانية.. والتي نقبل عدة حصص في نقس اليوم")])]),t._m(1)])])]),a("div",{staticClass:"flex justify-center py-20"},[a("table",{staticClass:"table-auto mt-10 rounded shadow-2xl overflow-hidden"},[t._m(2),a("tbody",t._l(t.data.userConfigBeforeChange,(function(e,s){return a("tr",{key:s,staticClass:"flex flex-wrap border-b-2 border-gray-300 bg-white hover:bg-gray-300"},[a("td",{staticClass:"w-20 font-semibold px-2"},[t._v(t._s(s+1))]),a("td",{staticClass:"w-32 font-semibold"},[t._v(t._s(e.theClass.name))]),a("td",{staticClass:"w-32 font-semibold"},[t._v(t._s(e.subject.name))]),a("td",{staticClass:"w-32 font-semibold"},[t._v(t._s(e.teacher.name))]),a("td",{staticClass:"w-32 font-semibold text-center"},[t._v(t._s(e.size))]),a("td",{staticClass:"w-32 font-semibold"},[t._v(t._s(t.retailTypes[e.retail]))]),a("td",{staticClass:"w-48 font-semibold text-center"},[t._v(t._s(e.duplication?"نعم":"لا"))]),a("td",{staticClass:"w-32 font-semibold text-center"},[a("span",{staticClass:"text-red-500 cursor-pointer",on:{click:function(e){return t.DeleteFromuserConfigBeforeChange(s)}}},[t._v("X")])])])})),0)])])])])},H=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[t._v(" في هذه المرحلة يجب ادخال كافة البيانات اسم المعلم والمواد وعدد الحصص في الأسبوع واختيار احد الطرق ليتم التوزيع عليها : "),a("br"),t._v(" 1- التوزيع الذكي : يتم التوزيع فيها بشكل عشوائي حصة او حصتين في اليوم"),a("br"),t._v(" 2- 1.1.1 يتم فيها توزيع بوضع حصة واحدة في اليوم الواحد"),a("br"),t._v(" 3- 2.2.2 يتم فيها توزيع بوضع حصتين متجاورتين في اليوم الواحد"),a("br"),t._v(" 4- ملء الجدول يتم فيها توزيع بحيث تتوزعفي كامل الأسبوع سواءا حصة او حصتين"),a("br"),t._v(" *- يرجى اختيار خيار التعدد في حالة المواد التي متكررة في نفس اليوم في نقس اليوم"),a("br"),t._v(" *- في حالة وجود مادة فرعية ك النشاطات وغيرها يرجي وضع المعلم في خيار لا يوجد"),a("br")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w-full px-3"},[a("input",{staticClass:"btnClasses py-4 bg-green-400",attrs:{type:"submit",value:"add"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticClass:"flex flex-wrap font-bold border-b-2 border-gray-400 items-center bg-gray-400"},[a("td",{staticClass:"w-20 font-extrabold text-xl"}),a("td",{staticClass:"w-32 font-extrabold text-xl"},[t._v("الصف")]),a("td",{staticClass:"w-32 font-extrabold text-xl"},[t._v("المادة")]),a("td",{staticClass:"w-32 font-extrabold text-xl"},[t._v("الأستاذ")]),a("td",{staticClass:"w-32 font-extrabold text-xl text-center"},[t._v("العدد")]),a("td",{staticClass:"w-32 font-extrabold text-xl"},[t._v("طريقة التوزيع")]),a("td",{staticClass:"w-48 font-extrabold text-xl"},[t._v("امكانية وجود نفس المادة في مكانين مختلفين ويوم واحد")]),a("td",{staticClass:"w-32 font-extrabold text-xl text-center"},[t._v("حذف")])])])}],R={name:"userConfigUi",props:{data:{type:Object,required:!0}},data:function(){return{userInput:{theClass:null,teacher:null,subject:null,size:null,retailType:null,duplication:!1},retailTypes:["التوزيع الذكي","1.1.1...","2.2.2....","ملء الجدول","عشوائي"]}},methods:{GoToUrl:function(t){jt.$emit("ChangeUrl",t)},DeleteFromuserConfigBeforeChange:function(t){this.data.userConfigBeforeChange.splice(t,1)},addToUserConfig:function(){var t=this.userInput;null!=t.theClass&&null!=t.teacher&&null!=t.subject&&null!=t.size&&null!=t.retailType&&(this.data.userConfigBeforeChange.push({theClass:t.theClass,teacher:t.teacher,subject:t.subject,size:t.size,duplication:t.duplication,retail:t.retailType,fixed:{status:!1,location:null},isExemptions:!1}),t.subject=null,t.size=null,t.duplication=null,t.retailType=null,t.duplication=!1)},svg:function(){return"\n        <div class='pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700'>\n            <svg class='fill-current h-4 w-4' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\n                <path d='M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z'/>\n            </svg>\n        </div>\n      "}}},X=R,J=Object(u["a"])(X,V,H,!1,null,null,null),K=J.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{name:"InitialTable"}},[t.select.showSelect?a("Select",{attrs:{type:"fixedSub",data:{target:t.select.target,options:t.select.options,optionsShow:t.select.optionsShow,from:t.select.from}},on:{end:function(e){return t.endSelect()}}}):t._e(),a("div",{staticClass:"w-full mt-20"},[a("div",{staticClass:"flex justify-center"},[a("div",{staticClass:"w-2/3 py-3 px-5 bg-gray-300 rounded shadow flex justify-between items-center"},[t._m(0),a("div",[a("span",{staticClass:"bg-red-500 hover:bg-red-600 py-1 mx-1 px-10 rounded cursor-pointer",on:{click:function(e){return t.GoToUrl("app-user-config-ui")}}},[t._v("رجوع")]),a("span",{staticClass:"bg-green-500 hover:bg-green-600 py-1 px-10 rounded cursor-pointer",on:{click:function(e){return t.GoToUrl("teacher-exemptions")}}},[t._v("تم")])])])]),t._l(t.data.mainData.classes,(function(e,s){return a("table",{key:e.id,staticClass:"table-auto mt-10"},[a("thead",[a("tr",{staticClass:"flex flex-wrap font-bold border-b-2 border-gray-400"},[a("td",{staticClass:"w-64 font-extrabold text-xl"},[t._v("الصف "+t._s(e.name))]),t._l(e.subInDay,(function(e,s){return a("td",{key:s,staticClass:"w-56 font-semibold"},[t._v(t._s(t.data.mainData.subInDay[s]))])}))],2)]),a("tbody",t._l(t.data.mainData.dayOfWeek,(function(n,i){return a("tr",{key:i,staticClass:"flex flex-wrap border-b-2 border-gray-400"},[a("td",{staticClass:"w-64 font-semibold"},[t._v(t._s(n.name))]),t._l(t.fullInitialTable[s][i],(function(s,n){return a("td",{key:n,staticClass:"w-56"},[a("button",{staticClass:"btnClasses bg-gray-300 h-10",on:{click:function(a){return t.addSubject(e,i,n)}}},[t._v(" "+t._s(s.subject)+" "+t._s(null!=s.teacher&&""!=s.teacher?"("+s.teacher+")":"")+" ")])])}))],2)})),0)])}))],2)],1)},Y=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[t._v(" في هذه المرحلة يرجي تحديد الحصص المراد ان تكون ثابتة عند انشاء الجدول مثلا النشاطات او غيرها"),a("br"),t._v(" في حالة لا توجد اي مواد او حصص ثابتة اضغط تم للمواصلة ")])}],Z=(a("a623"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fixed inset-0",attrs:{name:"select"}},[a("div",{staticClass:"w-full h-full bg-gray-800 bg-opacity-50 relative flex justify-center items-center"},[a("span",{staticClass:"absolute top-0 right-0 m-16 text-5xl font-bold cursor-pointer",on:{click:function(e){return t.$emit("end")}}},[t._v("X")]),a("div",{staticClass:"w-1/2 font-semibold overflow-y-auto",staticStyle:{"max-height":"60vh"}},[a("div",[a("div",{staticClass:"w-full py-3 px-6 rounded cursor-pointer bg-gray-200 hover:bg-gray-300",on:{click:function(e){return t.SpecialFixedTable(null)}}},[t._v(" فراغ ")]),a("hr",{staticClass:"border border-gray-400"})]),t._l(t.data.optionsShow,(function(e,s){return a("div",{key:s},[a("div",{staticClass:"w-full py-3 px-6 rounded cursor-pointer bg-gray-200 hover:bg-gray-300",on:{click:function(e){return t.SpecialFixedTable(s)}}},[t._v(" "+t._s(e)+" ")]),a("hr",{staticClass:"border border-gray-400"})])}))],2)])])}),tt=[],et={name:"Select",props:{data:{type:Object,required:!0},type:{type:String,default:"normal"}},methods:{chengeValue:function(){"fixedSub"!=this.type||this.SpecialFixedTable()},SpecialFixedTable:function(t){var e=this,a=this.data.target.filter((function(t){if(null!=t.fixed.location)return t.theClass.id==e.data.from.theClass.id&&t.fixed.location.day==e.data.from.day&&t.fixed.location.sub==e.data.from.sub}));if(1==a.length){var s=this.data.options.filter((function(t){return t.subject.id==a[0].subject.id&&t.teacher.id==a[0].teacher.id})),n=this.data.target.indexOf(a[0]);1==s.length?s[0].size+=1:0!=a[0].subject.id&&(a[0].fixed={status:!1,location:null},this.data.target.push(a[0])),this.data.target.splice(n,1)}if(null==t&&1==a.length)console.log("Delete Successfully");else if(null==t){var i={theClass:{id:null,name:null,subInDay:null},teacher:{id:null,name:null},subject:{id:null,name:null},size:null,duplication:null,retail:null,fixed:{status:!1,location:null},isExemptions:!1};"undefined"!=typeof i&&(i.theClass=this.data.from.theClass,i.subject={id:0,name:"فراغ"},i.teacher={id:0,name:""},i.size=1,i.duplication=!0,i.retail=0,i.fixed={status:!0,location:{day:this.data.from.day,sub:this.data.from.sub}},this.data.target.push(i))}else{var r=this.data.options[t],l=Object.assign({},r);if(r.size>1)r.size-=1;else{var o=this.data.target.indexOf(r);-1!=o&&this.data.target.splice(o,1)}l.size=1,l.fixed={status:!0,location:{day:this.data.from.day,sub:this.data.from.sub}},this.data.target.push(l)}this.$emit("end")}}},at=et,st=Object(u["a"])(at,Z,tt,!1,null,null,null),nt=st.exports,it={name:"FixedSubject",components:{Select:nt},props:{data:{type:Object,required:!0}},data:function(){return{initialTable:[],fullInitialTable:[],select:{showSelect:!1,target:null,options:[],optionsShow:[],from:{day:null,sub:null}},toSelectData:[]}},created:function(){this.addFullInitialTable()},activated:function(){this.addToTable()},methods:{GoToUrl:function(t){jt.$emit("ChangeUrl",t)},addSubject:function(t,e,a){this.select.showSelect=!0,this.select.target=this.data.userConfigBeforeChange,this.select.from={theClass:t,day:e,sub:a},this.select.options=this.data.userConfigBeforeChange.filter((function(e){return e.theClass.id==t.id&&!e.fixed.status})),this.select.optionsShow=this.select.options.map((function(t){return t.subject.name+" ("+t.teacher.name+") ("+t.size+")"}))},endSelect:function(){Object.assign(this.$data.select,this.$options.data.call(this).select),this.addToTable()},addFullInitialTable:function(){for(var t=0;t<this.data.mainData.classes.length;t++){for(var e=this.data.mainData.classes[t],a=[],s=0;s<this.data.mainData.dayOfWeek.length;s++){for(var n=[],i=0;i<e.subInDay;i++)n.push({oId:[t,s,i],subject:null,teacher:null});a.push(n)}this.fullInitialTable.push(a)}},addFixedSubjects:function(){var t=this;this.initialTable.forEach((function(e){if("undefined"!=typeof e.fixed&&e.fixed.status){var a=t.fullInitialTable[e.theClass.id-1][e.fixed.location.day][e.fixed.location.sub];a.subject=e.subject.name,a.teacher=e.teacher.name}}))},addSubjectsToFullArray:function(){var t=this;this.initialTable.forEach((function(e){var a=!0;t.fullInitialTable[e.theClass.id-1].every((function(t){return t.every((function(t){return null==t.subject&&(t.subject=e.subject.name,t.teacher=e.teacher.name,a=!1),a})),a}))}))},restartData:function(){this.fullInitialTable.forEach((function(t){t.forEach((function(t){t.forEach((function(t){t.subject=null,t.teacher=null}))}))}))},addToTable:function(){var t=[];this.data.userConfigBeforeChange.forEach((function(e){var a=e.size;while(a>1)t.push(e),a-=1;t.push(e)})),this.initialTable=t,this.restartData(),this.addFixedSubjects()}}},rt=it,lt=Object(u["a"])(rt,Q,Y,!1,null,null,null),ot=lt.exports,ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{name:"InitialTable"}},[a("div",{staticClass:"w-full mt-20"},[a("div",{staticClass:"flex justify-center"},[a("div",{staticClass:"w-2/3 py-3 px-5 bg-gray-300 rounded shadow flex justify-between items-center"},[t._m(0),a("div",[a("span",{staticClass:"bg-red-500 hover:bg-red-600 py-1 mx-1 px-10 rounded cursor-pointer",on:{click:function(e){return t.GoToUrl("fixed-subjects")}}},[t._v("رجوع")]),a("span",{staticClass:"bg-green-500 hover:bg-green-600 py-1 px-10 rounded cursor-pointer",on:{click:function(e){return t.GoToUrl("initial-table")}}},[t._v("تم")])])])]),t._l(t.data.mainData.teachers,(function(e,s){return a("table",{key:e.id,staticClass:"table-auto mt-10"},[a("thead",[a("tr",{staticClass:"flex flex-wrap font-bold mb-1 border-b-2 border-gray-400"},[a("td",{staticClass:"w-64 font-extrabold text-xl"},[t._v("استاذ "+t._s(e.name))]),t._l(t.maxSubInDay,(function(s,n){return a("td",{key:n,staticClass:"w-56 font-semibold hover:bg-gray-200 cursor-pointer",on:{click:function(a){return a.stopPropagation(),t.exemptionReservationAllSub(e,n)}}},[t._v(t._s(t.data.mainData.subInDay[n]))])}))],2)]),a("tbody",t._l(t.data.mainData.dayOfWeek,(function(n,i){return a("tr",{key:n.id,staticClass:"flex flex-wrap border-b-2 border-gray-400"},[a("td",{staticClass:"w-64 font-semibold hover:bg-gray-200 cursor-pointer",on:{click:function(a){return a.stopPropagation(),t.exemptionReservationAllDay(e,i)}}},[t._v(t._s(n.name))]),t._l(t.maxSubInDay,(function(n,r){return a("td",{key:r,staticClass:"w-56"},[a("button",{staticClass:"btnClasses h-10",class:t.TeachersExemptionsShow[s][i][r]?"bg-red-300 hover:bg-red-400":"bg-gray-300 hover:bg-gray-400",on:{click:function(a){return a.stopPropagation(),t.exemptionReservation(e,i,r)}}})])}))],2)})),0)])}))],2)])},ut=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[t._v(" في هذه المرحلة يرجي تحديد اعفاءات المعلمين او الحصص التي لا يستطيع المعلم الحضور اليها ليتم تجنب ادخال المعلم في هذه الحصص عند انشاء الجدول"),a("br"),t._v(" في حالة لا توجد تعديلات اضغط تم للمواصلة ")])}],dt={name:"TeacherExemptions",props:{data:{type:Object,required:!0}},data:function(){return{TeachersExemptions:[],TeachersExemptionsShow:[],maxSubInDay:0}},created:function(){this.TeachersExemptions=Object(L["a"])(this.data.teacherExemptions);for(var t=0;t<this.data.mainData.teachers.length;t++){for(var e=[],a=0;a<this.data.mainData.dayOfWeek.length;a++){for(var s=[],n=0;n<8;n++)s.push(!1);e.push(s)}this.TeachersExemptionsShow.push(e)}this.TeacherExemptions()},activated:function(){this.maxSubInDay=Math.max.apply(Math,Object(L["a"])(this.data.mainData.classes.map((function(t){return t.subInDay}))))},methods:{GoToUrl:function(t){jt.$emit("ChangeUrl",t)},TeacherExemptionsIsFound:function(t){var e=this.data.teacherExemptions.filter((function(e){return e.teacher.id==t}));return e.length>=1&&e[0]},ifExempyionIsExist:function(t,e,a){var s=!1;return t.forEach((function(t,n){t.day==e&&t.sub==a&&(s=n)})),s},TeacherExemptions:function(){var t=this;this.data.mainData.teachers.forEach((function(e){var a=t.TeacherExemptionsIsFound(e.id);a&&a.locations.forEach((function(a){t.TeachersExemptionsShow[e.id-1][a.day][a.sub]=!0}))}))},exemptionReservationAllDay:function(t,e){for(var a=0;a<8;a++)this.exemptionReservation(t,e,a)},exemptionReservationAllSub:function(t,e){var a=this;this.data.mainData.dayOfWeek.forEach((function(s){a.exemptionReservation(t,s.id-1,e)}))},exemptionReservation:function(t,e,a){var s=this.TeacherExemptionsIsFound(t.id);if(s){var n=this.ifExempyionIsExist(s.locations,e,a);if(!1!==n){if(this.$set(this.TeachersExemptionsShow[t.id-1][e],a,!1),s.locations.splice(n,1),0==s.locations.length){this.data.userConfigBeforeChange.filter((function(e){return e.teacher.id==t.id})).map((function(t){t.isExemptions=!1}));var i=this.data.teacherExemptions.indexOf(s);-1!=i&&this.data.teacherExemptions.splice(i,1)}}else this.$set(this.TeachersExemptionsShow[t.id-1][e],a,!0),s.locations.push({day:e,sub:a})}else this.data.userConfigBeforeChange.filter((function(e){return e.teacher.id==t.id})).map((function(t){t.isExemptions=!0})),this.$set(this.TeachersExemptionsShow[t.id-1][e],a,!0),this.data.teacherExemptions.push({teacher:t,locations:[{day:e,sub:a}]})}}},ft=dt,ht=Object(u["a"])(ft,ct,ut,!1,null,null,null),pt=ht.exports,mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{name:"InitialTable"}},[t.showTable?a("div",{staticClass:"w-full mt-20 pb-20 px-10"},[a("div",{staticClass:"flex justify-center"},[a("div",{staticClass:"w-2/3 py-3 px-5 bg-gray-300 rounded shadow flex justify-between items-center"},[t._m(0),a("div",[a("span",{staticClass:"bg-red-500 hover:bg-red-600 py-1 mx-1 px-10 rounded cursor-pointer",on:{click:function(e){return t.GoToUrl("teacher-exemptions")}}},[t._v("رجوع")]),t.errorsFound.length>0?a("span",{staticClass:"bg-green-300 py-1 mx-1 px-10 rounded cursor-not-allowed"},[t._v("تم")]):a("span",{staticClass:"bg-green-500 hover:bg-green-600 py-1 mx-1 px-10 rounded cursor-pointer",on:{click:function(e){return t.GoToUrlP("app-main-ui")}}},[t._v("تم")]),a("span",{staticClass:"bg-green-500 hover:bg-green-600 py-1 mx-1 px-10 rounded cursor-pointer",on:{click:function(e){return t.GoToUrlP("app-main-ui")}}},[t._v("تم")])])])]),a("div",{staticClass:"mt-64"},t._l(t.errorsFound,(function(e,s){return a("ul",{key:s,staticClass:"mx-5"},[a("li",[t._v(t._s(e.details))])])})),0),t._l(t.data.mainData.classes,(function(e,s){return a("table",{key:s,staticClass:"table-auto mt-10"},[a("thead",[a("tr",{staticClass:"flex flex-wrap font-bold border-b-2 border-gray-400"},[a("td",{staticClass:"w-64 font-extrabold text-xl"},[t._v("الصف "+t._s(e.name))]),t._l(e.subInDay,(function(e,s){return a("td",{key:s,staticClass:"w-56 font-semibold"},[t._v(t._s(t.data.mainData.subInDay[s]))])}))],2)]),a("tbody",t._l(t.data.mainData.dayOfWeek,(function(n,i){return a("tr",{key:i,staticClass:"flex flex-wrap border-b-2 border-gray-400"},[a("td",{staticClass:"w-64 font-semibold"},[t._v(t._s(n.name))]),t._l(t.fullInitialTable[s][i],(function(s,n){return a("td",{key:n,staticClass:"w-56",class:{"bg-red-200":null==s.subject,"bg-green-300":s.fixed,"bg-red-500":t.theClassHasError(e.id)}},[a("span",{class:{"opacity-75":!s.fixed}},[t._v(t._s(s.subject)+" "+t._s(null!=s.teacher&&""!=s.teacher?"("+s.teacher+")":""))])])}))],2)})),0)])}))],2):t._e()])},bt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v(" في هذه المرحلة يتم فيها التحقق من المدخلات لا يمكنك المتابعة الا عند اصلاح الأخطاء ان وجدت : "),a("br"),t._v(" 1- الخلفيةالحمراء تعني *هذه الحصة فارغة"),a("br"),t._v(" 2- الخلفية الخضراء تعني *هذه الحصة ادخلت على انها ثابتة"),a("br"),t._v(" *- في حالة تحول خلفية الفصل الي اللون الأحمر فهذا يعني ان عدد المواد اكبر من عدد حصص الأسبوع"),a("br"),t._v(" *- في حالة وجود اخطاء يتم عرض الخطأ ليتم حله"),a("br"),t._v(" *- ما زال العمل جار على عملية كشف الأخطاء لذلك لا تعطيك هذه النتائج جميع الأخطاء"),a("br"),t._v(" *- في حالة كان الفصل به عدة فراغات ينصح بوضع الحصص الأخيرة من اليوم الدراسي ك فراغات ثابتة في صفحة الحصص الثابتة ")])}],vt={name:"InitialTable",props:{data:{type:Object,required:!0}},data:function(){return{showTable:!1,initialTable:[],fullInitialTable:[],errorsFound:[]}},activated:function(){this.addFullInitialTable(),this.startCheckStetment()},deactivated:function(){this.showTable=!1,this.restartData()},methods:{GoToUrlP:function(t){this.retailUserConfig("all"),this.GoToUrl(t)},GoToUrl:function(t){jt.$emit("ChangeUrl",t)},theClassHasError:function(t){var e=!1;return this.errorsFound.forEach((function(a){"undefined"!=typeof a.data&&a.data.theClass.id==t&&(e=!0)})),e},addFullInitialTable:function(){this.fullInitialTable=[];for(var t=0;t<this.data.mainData.classes.length;t++){for(var e=this.data.mainData.classes[t],a=[],s=0;s<this.data.mainData.dayOfWeek.length;s++){for(var n=[],i=0;i<e.subInDay;i++)n.push({oId:[t,s,i],subject:null,teacher:null,fixed:!1});a.push(n)}this.fullInitialTable.push(a)}},addFixedSubjects:function(){var t=this;this.initialTable.forEach((function(e){if("undefined"!=typeof e.fixed&&e.fixed.status){var a=t.fullInitialTable[e.theClass.id-1][e.fixed.location.day][e.fixed.location.sub];a.subject=e.subject.name,a.teacher=e.teacher.name,a.fixed=!0}}))},addSubjectsToFullArray:function(){var t=this;this.initialTable.forEach((function(e){if("undefined"!=typeof e.fixed&&e.fixed.status)return!0;var a=!0;t.fullInitialTable[e.theClass.id-1].every((function(t){return t.every((function(t){return null==t.subject&&(t.subject=e.subject.name,t.teacher=e.teacher.name,a=!1),a})),a})),a&&t.errorsFound.push({type:"Overloaded",from:"subjects",details:"المادة : "+e.theClass.name+" ,لا يمكن اضافة هذه المادة",data:e})}))},chaeckTeacher:function(){var t=this;this.data.mainData.teachers.forEach((function(e){var a=t.initialTable.filter((function(t){return t.teacher.id==e.id})),s=0,n=t.data.teacherExemptions.filter((function(t){return t.teacher.id==e.id}));n.length>0&&(s=n[0].locations.length);var i=Math.max.apply(Math,Object(L["a"])(t.data.mainData.classes.map((function(t){return t.subInDay})))),r=t.data.mainData.dayOfWeek.length;a.length+s>i*r&&t.errorsFound.push({type:"Overloaded",from:"teachers",details:"الأستاذ : "+e.name+" ,لا يمكن أضافة حصة لهذا الأستاذ بسبب ان عدد حصصه اكبر من المطلوب او ايام تغيبه كثيرة"})}))},restartData:function(){this.errorsFound=[],this.fullInitialTable.forEach((function(t){t.forEach((function(t){t.forEach((function(t){t.subject=null,t.teacher=null}))}))}))},startCheckStetment:function(){var t=[];this.data.userConfigBeforeChange.forEach((function(e){var a=e.size;while(a>1)t.push(e),a-=1;t.push(e)})),this.initialTable=t,this.restartData(),this.addFixedSubjects(),this.addSubjectsToFullArray(),this.chaeckTeacher(),this.showTable=!0},retailUserConfig:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=[],n=this.data.userConfigBeforeChange;if("class"==e&&null!=a){var i=this.data.userConfigBeforeChange.filter((function(t){return t.theClass.id==a}));n=i}n.forEach((function(e){var a=t.retailSingleUserConfig(e);a.forEach((function(t){s.push({theClass:e.theClass,teacher:e.teacher,subject:e.subject,size:t,duplication:e.duplication,fixed:e.fixed,isExemptions:e.isExemptions})}))})),jt.$emit("retailUserConfig",s)},retailSingleUserConfig:function(t){var e=[],a=t.retail;if(0==a){for(var s=0;s<this.data.mainData.dayOfWeek.length;s++)e.push(0);var n=t.size;while(n>0){do{var i=Math.floor(Math.random()*e.length)}while(e[i]+1>2);e[i]+=1,n-=1}for(var r=0;r<e.length;r++)0==e[r]&&(e.splice(r,1),r--);e.sort((function(t,e){return t==e?0:t<e?1:-1}))}if(1==a||3==a){var l=t.size,o=0;while(l>0)e.length<this.data.mainData.dayOfWeek.length?(e.push(1),l-=1):(e[e.length%this.data.mainData.dayOfWeek.length+o++]+=1,l-=1)}if(2==a){var c=t.size;while(c>0)c%2==0?(e.push(2),c-=2):(e.push(1),c-=1);e.sort((function(t,e){return t==e?0:t<e?1:-1}))}if(4==a){var u=t.size;while(u>0)if(1==u)e.push(1),u-=1;else{var d=Math.floor(2*Math.random()+1);e.push(d),u-=d}e.sort((function(t,e){return t==e?0:t<e?1:-1}))}return e}}},Ct=vt,gt=Object(u["a"])(Ct,mt,bt,!1,null,null,null),xt=gt.exports;s["a"].component("pagenation",f),s["a"].component("home-page",C),s["a"].component("test",j),s["a"].component("app-main-ui",F),s["a"].component("add-main-data",G),s["a"].component("app-user-config-ui",K),s["a"].component("fixed-subjects",ot),s["a"].component("teacher-exemptions",pt),s["a"].component("initial-table",xt),s["a"].component("app-view-some-data",B);var yt={name:"App",data:function(){return{currentView:"home-page",subInClasses:[],userConfig:[],userConfigBeforeChange:[],teacherExemptions:[],possibilityLevel:1,mainData:{subInDay:["الأولى","التانية","التالتة","الرابعة","الخامسة","السادسة","السابعة","التامنة","الناسعة"],dayOfWeek:[{id:1,name:"السبت"},{id:2,name:"الأحد"},{id:3,name:"الأثنين"},{id:4,name:"الثلاثاء"},{id:5,name:"الأربعاء"},{id:6,name:"الخميس"}],classes:[{id:1,name:"اولى أ",subInDay:5},{id:2,name:"تانية أ",subInDay:5},{id:3,name:"تالتة أ",subInDay:5},{id:4,name:"رابعة أ",subInDay:6},{id:5,name:"خامسة أ",subInDay:7},{id:6,name:"سادسة أ",subInDay:7},{id:7,name:"أولى متوسط أ",subInDay:7},{id:8,name:"اولى ب",subInDay:5},{id:9,name:"تانية ب",subInDay:5},{id:10,name:"تالتة ب",subInDay:5},{id:11,name:"رابعة ب",subInDay:6},{id:12,name:"خامسة ب",subInDay:7},{id:13,name:"سادسة ب",subInDay:7},{id:14,name:"أولى متوسط ب",subInDay:7}],subjects:[{id:1,name:"اسلامية"},{id:2,name:"عربي"},{id:3,name:"رياضيات"},{id:4,name:"انجليزي"},{id:5,name:"تكنولوجيا"},{id:6,name:"علوم"},{id:7,name:"تاريخ"},{id:8,name:"جغرافيا"},{id:9,name:"فنون"},{id:10,name:"مكتبة"},{id:11,name:"نشاط"},{id:12,name:"احتياطي"}],teachers:[{id:1,name:"لا يوجد"},{id:2,name:"نضال"},{id:3,name:"تسابيح"},{id:4,name:"اسراء"},{id:5,name:"سحر"},{id:6,name:"سماهر"},{id:7,name:"شيماء"},{id:8,name:"دعاء مبارك"},{id:9,name:"بلابل"},{id:10,name:"دعاء محمد"},{id:11,name:"ماجدة"},{id:12,name:"اسرار"},{id:13,name:"سناء"},{id:14,name:"عزة"},{id:15,name:"هدى"},{id:16,name:"صدام"},{id:17,name:"صلاح"},{id:18,name:"محمد"},{id:19,name:"حامد"},{id:20,name:"أ. مكتبة"},{id:21,name:"أ. نشاط"},{id:21,name:"احتياطي"}],colors:["#B46EC75c","#6FC76E5c","#6EC6C75c","#6E98C75c","#6E6EC75c","#C76E6E5c","#C6C76E5c","#8EC76E5c","#C7A46E5c","#C79B6E5c","#896EC75c","#A76EC75c","#C76EA15c","#C76E8A5c","#C76E7A5c","#6E96C75c","#C76EB35c","#C7AD6E5c","#C6C76E5c","#98C76E5c","#6EC77A5c","#6EC7AB5c","#6EB3C75c","#6E91C75c","#C7C76E5c","#6EC77E5c","#6EC7B55c","#C7B06E5c","#FBBB035c","#BFFB035c"]}}},created:function(){var t=this;this.addSubInClass(),jt.$on("ChangeUrl",(function(e){t.currentView=e})),jt.$on("retailUserConfig",(function(e){t.userConfig=e,t.runSortFunctions()})),jt.$on("changePossibilityLevel",(function(e){t.possibilityLevel=e}))},methods:{addSubInClass:function(){this.subInClasses=[];for(var t=0,e=0;e<this.mainData.classes.length;e++){for(var a=this.mainData.classes[e],s=[],n=0;n<this.mainData.dayOfWeek.length;n++){for(var i=[],r=0;r<a.subInDay;r++)i.push({id:t,sId:r+","+n+","+e,oId:[e,n,r],subject:{id:null,name:null},teacher:{id:null,name:null}}),t++;s.push(i)}this.subInClasses.push(s)}},runSortFunctions:function(){this.sortUserConfigBySubject(),this.sortUserConfigByClass(),this.sortUserConfigByTeatcherCount(),this.sortUserConfigByDuplication(),this.sortUserConfigBySize(),this.sortUserConfigByExemptions(),this.sortUserConfigByFixed()},sortUserConfigBySubject:function(){this.userConfig.sort(function(t,e){return t.subject.id==e.subject.id?0:t.subject.id>e.subject.id?1:-1}.bind(this))},sortUserConfigByClass:function(){this.userConfig.sort(function(t,e){return t.theClass.id==e.theClass.id?0:t.theClass.id>e.theClass.id?1:-1}.bind(this))},userDataBy:function(t,e){return"class"==t?this.userConfig.filter((function(t){return t.theClass.id==e})):"teacher"==t?this.userConfig.filter((function(t){return t.teacher.id==e})):"subject"==t?this.userConfig.filter((function(t){return t.subject.id==e})):[]},sortUserConfigByTeatcherCount:function(){this.userConfig.sort(function(t,e){var a=this.userDataBy("teacher",t.teacher.id).length,s=this.userDataBy("teacher",e.teacher.id).length;return a==s?0:a<s?1:-1}.bind(this))},sortUserConfigByDuplication:function(){this.userConfig.sort(function(t,e){return t.duplication==e.duplication?0:t.duplication>e.duplication?1:-1}.bind(this))},sortUserConfigBySize:function(){this.userConfig.sort(function(t,e){return t.size==e.size?0:t.size<e.size?1:-1}.bind(this))},sortUserConfigByExemptions:function(){this.userConfig.sort(function(t,e){return t.isExemptions==e.isExemptions?0:t.isExemptions<e.isExemptions?1:-1}.bind(this))},sortUserConfigByFixed:function(){this.userConfig.sort(function(t,e){return t.fixed.status==e.fixed.status?0:t.fixed.status<e.fixed.status?1:-1}.bind(this))}},watch:{"mainData.dayOfWeek":function(){this.addSubInClass()},"mainData.classes":function(){this.addSubInClass()}}},_t=yt,wt=Object(u["a"])(_t,n,i,!1,null,null,null),It=wt.exports,jt=(a("def6"),new s["a"]);s["a"].config.productionTip=!1,new s["a"]({render:function(t){return t(It)}}).$mount("#app")},def6:function(t,e,a){}});
//# sourceMappingURL=app.10b9cfc9.js.map